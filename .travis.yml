language: python

# This will run on Travis' 'new' container-based infrastructure
sudo: false

# Blacklist
branches:
  except:
    - gh-pages

addons:
    apt:
      packages:
        - doxygen
        - doxygen-doc
        - doxygen-latex
        - doxygen-gui
        - graphviz
        - python3-pip
    

install:
    - pip3 install sphinx breathe sphinx-autobuild sphinx_rtd_theme recommonmark sphinx-markdown-tables
    - pip3 install travis-sphinx

script:
    - cd docs
    - doxygen Doxyfile
    - travis-sphinx build --source=source

after_success:
    - travis-sphinx deploy